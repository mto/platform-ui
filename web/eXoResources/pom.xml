<!-- Copyright (C) 2009 eXo Platform SAS. This is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License 
   as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version. This software is distributed in the hope 
   that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General 
   Public License for more details. You should have received a copy of the GNU Lesser General Public License along with this software; if not, write to the Free Software 
   Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA, or see the FSF site: http://www.fsf.org. -->

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
   <modelVersion>4.0.0</modelVersion>
   <parent>
      <groupId>org.exoplatform.portal</groupId>
      <artifactId>exo.portal.web</artifactId>
      <version>3.4.0.Final</version>
   </parent>

   <groupId>org.exoplatform.platform-ui</groupId>
   <artifactId>platform-ui-web-eXoResources</artifactId>
   <version>1.0.0-SNAPSHOT</version>
   <packaging>war</packaging>
   <name>Platform UI Web Resources</name>

	<dependencies>
		<dependency>
			<groupId>org.exoplatform.platform-ui</groupId>
			<artifactId>platform-ui-web-skin</artifactId>
            <version>${project.version}</version>
		</dependency>
	</dependencies>
   
   <build>
      <finalName>eXoResources</finalName>
      <plugins>
	      <plugin>
	         <groupId>org.apache.maven.plugins</groupId>
	         <artifactId>maven-dependency-plugin</artifactId>
	         <executions>         
	            <execution>
	               <id>unpack</id>
	               <goals>
	                  <goal>unpack</goal>
	               </goals>
	               <configuration>
	                  <artifactItems>
	                     <artifactItem>
	                        <groupId>org.exoplatform.platform-ui</groupId>
	                        <artifactId>platform-ui-web-skin</artifactId>
	                        <type>war</type>
	                        <overWrite>false</overWrite>
	                        <outputDirectory>${project.build.directory}/${project.build.finalName}/skin</outputDirectory>
	                        <includes>bootstrap/**,less/Core.less,less/reset.less,less/variables.less,less/mixins.less,less/Component/**</includes>
	                     </artifactItem>
	                  </artifactItems>
	               </configuration>
	            </execution>
	         </executions>
	      </plugin>
         <plugin>
            <groupId>org.lesscss</groupId>
            <artifactId>lesscss-maven-plugin</artifactId>
            <version>1.3.0</version>
            <executions>
               <execution>
                  <id>bootstrap</id>
                  <configuration>
                     <sourceDirectory>${project.build.directory}/${project.build.finalName}/skin/bootstrap/less</sourceDirectory>
                     <outputDirectory>${project.build.directory}/${project.build.finalName}/skin/bootstrap/css</outputDirectory>
                     <compress>false</compress>
                     <includes>
                        <include>bootstrap.less</include>
                        <include>responsive.less</include>
                     </includes>
                  </configuration>
                  <goals>
                     <goal>compile</goal>
                  </goals>
               </execution>
               <execution>
                  <id>core</id>
                  <configuration>
                     <sourceDirectory>${project.build.directory}/${project.build.finalName}/skin/less</sourceDirectory>
                     <outputDirectory>${project.build.directory}/${project.build.finalName}/skin/css</outputDirectory>
                     <compress>false</compress>
                     <includes>
                        <include>Core.less</include>
                     </includes>
                  </configuration>
                  <goals>
                     <goal>compile</goal>
                  </goals>
               </execution>
            </executions>
         </plugin>
      </plugins>
   </build>
   <reporting>
      <plugins>
         <!-- ... -->
         <plugin>
            <groupId>gr.abiss.mvn.plugins</groupId>
            <artifactId>maven-jstools-plugin</artifactId>
            <inherited>false</inherited>
            <configuration>
               <!-- the default is src/main/js -->
               <jsDir>src/main/webapp/javascript</jsDir>
               <!-- this is actually the default -->
               <includes>**/*.js</includes>
               <!-- maybe you need to exclude compressed JS files -->
               <excludes>**/*-compressed.js</excludes>
               <!-- this is actually the default -->
               <caseSensitive>true</caseSensitive>
               <!-- for more configuration properties, see the goals documentation -->
            </configuration>
            <reportSets>
               <reportSet>
                  <reports>
                     <!-- include the desired reports -->
                     <report>jslint</report>
                     <report>jsdoc</report>
                  </reports>
               </reportSet>
            </reportSets>
         </plugin>
         <!-- ... -->
      </plugins>
   </reporting>

</project>
